{{/*
	Copyright (c): stepka120, 2022
	License: MIT
	Repository: https://github.com/stepka120/YAG-CC

	podporuje neomezenÃ© mnoÅ¾stvÃ­ zprÃ¡v a (max) 20 rolÃ­ na zprÃ¡vÄ› (kaÅ¾dÃ©)
	vÃ½znam prvnÃ­ho sdictu v $role je platnÃ½ pro prvnÃ­ msgID v $MsgID, druhÃ©ho pro druhÃ½...
*/}}
 
 
{{$MsgID := cslice 1002292681499754556 1002292722658459688}}
{{$role := cslice (sdict "ğŸ‡¦" "1002128478843449435" "ğŸ‡§" "1002128476989575239" "ğŸ‡¨" "1002128502528688148" "ğŸ‡©" "1002153044647092294" "ğŸ‡ª" "1002153061864718417" "ğŸ‡«" "1002153069829693440" "ğŸ‡¬" "1002153077152960612" "ğŸ‡­" "1002153084606222396" "ğŸ‡®" "1002153557199429704" "ğŸ‡¯" "1002153561670553651" "ğŸ‡°" "1002154676176830494" "ğŸ‡±" "1002154851788136448" "ğŸ‡²" "1002154856301207563" "ğŸ‡³" "1002154866770190346" "ğŸ‡´" "1002156722657439754" "ğŸ‡µ" "1002156741095596032" "ğŸ‡¶" "1002156744178409563" "ğŸ‡·" "1002167356505735198" "ğŸ‡¸" "1002167732055318539" "ğŸ‡¹" "1002168035072802896") (sdict "ğŸ‡¦" "1002168048112914492" "ğŸ‡§" "1002168487701127308" "ğŸ‡¨" "1002168936994979840" "ğŸ‡©" "1002168942128812077" "ğŸ‡ª" "1002171720460927107" "ğŸ‡«" "1002171863549616138" "ğŸ‡¬" "1002172422641958963")}}
{{$ValidMSG := false}}
{{$MsgIndex := 0}}

{{range $i, $ID := $MsgID}}
	{{if eq $ID $.ReactionMessage.ID}}
		{{$ValidMSG = true}}
		{{$MsgIndex = $i}}
	{{end}}
{{end}}
{{if and $ValidMSG ((index $role $MsgIndex).Get .Reaction.Emoji.Name)}}
	{{if .ReactionAdded}}
		{{range $j, $roleDict := $role}}
			{{range $emoji, $roleID := $roleDict}}
				{{if and (hasRoleID $roleID) (ne  (str $roleID) (str ($roleDict.Get $.Reaction.Emoji.Name)))}}
					{{removeRoleID $roleID}}
					{{deleteMessageReaction nil (index $MsgID $j) $.User.ID $emoji}}
				{{end}}
			{{end}}
		{{end}}



		{{addRoleID ((index $role $MsgIndex).Get .Reaction.Emoji.Name)}}
	{{else}}
		{{removeRoleID ((index $role $MsgIndex).Get .Reaction.Emoji.Name)}}
	{{end}}
{{end}}
